<div class="sign-up-container">
  <div class="sign-up-main">
    <p class="sign-up-heading">Sign up</p>

    <div class="error-message" [class.show]="errorMessage != ''">
      {{ errorMessage }}
    </div>

    <div class="sign-up-loader" *ngIf="isLoading" [class.grow]="isLoading">
      <span class="loader"></span>
    </div>

    <form class="sign-up-form" [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
      <div class="form-group email">
        <input
          type="text"
          placeholder="FirstName"
          [formControlName]="'name'"
          [ngClass]="{ 'input-error': name.touched && name.invalid }"
        />
      </div>
      <p class="error name-error" *ngIf="name.touched && name.invalid">
        Please enter a name
      </p>

      <div class="form-group email">
        <input
          type="email"
          placeholder="Email"
          [formControlName]="'email'"
          [ngClass]="{ 'input-error': email.touched && email.invalid }"
        />
      </div>
      <p class="error email-error" *ngIf="email.touched && email.invalid">
        Please enter a valid email
      </p>

      <div class="form-group password">
        <input
          [type]="show ? 'text' : 'password'"
          placeholder="Password"
          [formControlName]="'password'"
          [ngClass]="{ 'input-error': password.touched && password.invalid }"
        />

        <div class="eye" (click)="onToggleVisibility('password')">
          <i class="fas fa-eye-slash" *ngIf="!show"></i>
          <i class="fas fa-eye" *ngIf="show"></i>
        </div>
      </div>
      <p
        class="error password-error"
        *ngIf="password.touched && password.invalid"
      >
        Password must be a minimum of 6 characters and contain at least a lower
        and uppercase letter and a special character
      </p>

      <div class="form-group confirm-password">
        <input
          [formControlName]="'confirmPassword'"
          [type]="showConfirm ? 'text' : 'password'"
          id="confirm"
          placeholder="Confirm password"
          (keyup)="onKey($event)"
          [ngClass]="{
            'input-error': !passwordMatch && confirmPassword.touched
          }"
          minlength="6"
        />
        <div class="eye" (click)="onToggleVisibility('confirm')">
          <i class="fas fa-eye-slash" *ngIf="!showConfirm"></i>
          <i class="fas fa-eye" *ngIf="showConfirm"></i>
        </div>
      </div>
      <p
        class="error confirm-password-error"
        *ngIf="!passwordMatch && confirmPassword.dirty"
      >
        Passwords do not match
      </p>

      <button class="sign-up-btn" type="submit">Sign up</button>
    </form>

    <br />

    <p class="or">OR</p>

    <div class="sign-up-google">
      <button (click)="onSignInWithGoogle()">
        <img src="assets/images/google logo.png" alt="" />
        <span>Continue with Google </span>
      </button>
    </div>

    <div class="have-account">
      <a [routerLink]="['/', 'sign-in']">Have an account? Sign in</a>
    </div>
  </div>
</div>
